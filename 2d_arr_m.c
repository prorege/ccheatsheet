#include <stdio.h>
#include <stdlib.h>

int main(){
    int *p[3];
    int num = 1;
    for(int i=0;i<3;i++)
    {
        p[i] = (int*)malloc(sizeof(int)*3);
    }
    for(int i=0;i<3;i++)
    {
        for(int j=0;j<4;j++)
        {
            p[i][j] = num++;
            printf("%4d", p[i][j]);
        }
    }
    for(int i=0;i<3;i++)
    {
        free(p[i]);
    }

    return 0;
}

// 참고로 p[0][1] == *(p[0]+1);이다.
//이에 대한 chatGPT의 설명

/*
"배열의 첫 번째 값이 주소"라는 것은 배열이 메모리에서 연속된 공간에 할당되고, 배열의 이름은 배열의 첫 번째 요소를 가리키는 포인터로 해석된다는 의미입니다.

예를 들어, 다음과 같은 배열이 있다고 가정해봅시다:

```c
int numbers[5] = {10, 20, 30, 40, 50};
```

이 배열은 메모리에서 연속된 공간에 할당되며, 각 요소는 메모리에서 일정한 간격으로 배치됩니다. 따라서 메모리에는 다음과 같이 배치됩니다:

```
주소:   0x1000   0x1004   0x1008   0x100C   0x1010
값:      10       20       30       40       50
```

여기서 `numbers`라는 배열 이름은 배열의 첫 번째 요소를 가리키는 포인터로 해석됩니다. 즉, `numbers`는 배열의 첫 번째 요소인 `10`의 주소를 나타냅니다. 이것은 배열의 이름이 해당 요소의 메모리 주소를 나타내는 포인터로 해석된다는 의미입니다.

따라서 다음과 같은 코드는 올바르게 작동합니다:

```c
printf("%d\n", *numbers); // 배열의 첫 번째 요소인 10을 출력합니다.
```

`*numbers`는 배열의 첫 번째 요소를 가리키는 포인터이며, 이는 `10`의 값을 반환합니다.

하지만 배열 이름이 배열의 첫 번째 요소를 가리키는 포인터로 해석된다는 것은 주의해야 할 점이기도 합니다. 예를 들어, `sizeof(numbers)`는 배열 전체의 크기가 아니라 포인터의 크기를 반환합니다. 왜냐하면 배열 이름 `numbers`는 첫 번째 요소를 가리키는 포인터로 해석되기 때문입니다.
*/